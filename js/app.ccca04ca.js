(function(e){function t(t){for(var n,o,l=t[0],r=t[1],c=t[2],d=0,h=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],n=!0,l=1;l<s.length;l++){var r=s[l];0!==i[r]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},i={app:0},a=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=r;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},1129:function(e,t,s){},"1af7":function(e,t,s){},"42c4":function(e,t,s){"use strict";s("cc6d")},"56d7":function(e,t,s){"use strict";s.r(t);var n=s("2b0e"),i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{attrs:{id:"app"}},[e.showLocal||e.showSsh?t("div",{staticClass:"terminal-container"},[e.showLocal?t("LocalTerminal",{attrs:{"init-cmd":e.localInitCmd},on:{onClose:function(t){e.showLocal=!1,e.localInitCmd=null}}}):e._e(),e.showSsh?t("SshTerminal",{on:{onClose:function(t){e.showSsh=!1}}}):e._e()],1):t("div",[t("div",[t("img",{staticClass:"logo",attrs:{src:s("a7bc"),alt:"terminal-logo"}}),t("h1",{staticClass:"title"},[e._v("vue-web-terminal")]),t("p",{staticClass:"des"},[e._v("A lightweight, powerful and highly extensible web page emulation command line terminal plugin.")]),t("p",{staticClass:"des"},[e._v("一个轻量、功能强大、拓展性高的网页仿真命令行终端插件。")]),t("div",{staticStyle:{margin:"30px 0"},attrs:{align:"center"}},[e._m(0),t("a",{staticClass:"github-corner",attrs:{href:"https://github.com/tzfun/vue-web-terminal","aria-label":"View source on GitHub"}},[t("svg",{staticClass:"github-cat",attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[t("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),t("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})]),t("span",{staticClass:"github-tag"},[e._v("Fork me on GitHub")])])])]),t("div",{staticClass:"btn-box"},[t("button",{directives:[{name:"show",rawName:"v-show",value:!e.showLocal&&!e.showSsh,expression:"!showLocal && !showSsh"}],staticClass:"btn btn-local",on:{click:function(t){e.showLocal=!0}}},[e._v("Get Started →")])])])])},a=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("a",{staticStyle:{"margin-left":"-30px"},attrs:{href:"https://gitee.com/tzfun/vue-web-terminal"}},[t("img",{attrs:{src:"https://gitee.com/tzfun/vue-web-terminal/widgets/widget_6.svg",alt:"Fork me on Gitee"}})])}],o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("terminal",{staticStyle:{position:"fixed"},attrs:{name:e.name,title:e.title,"init-log":e.initLog,inputFilter:e.inputFilter,context:e.context,commandStore:e.cmdStore,warnLogCountLimit:200,dragConf:e.dragConf,"show-header":""},on:{execCmd:e.onExecCmd,onClick:e.onClick,onKeydown:e.onKeydown,"update:context":function(t){e.context=t},initBefore:e.initBefore,initComplete:e.initComplete}})},l=[],r=s("a534"),c=s.n(r),u={name:"LocalTerminal",components:{Terminal:c.a},data(){return{version:{vue2:"2.1.2",vue3:"3.1.2"},name:"my-terminal",title:"👌vue-web-terminal",context:"/vue-web-terminal/demo",cmdStore:[{key:"fail",group:"demo",usage:"fail",description:"模拟错误结果返回"},{key:"json",group:"demo",usage:"json",description:"模拟json结果显示"},{key:"code",group:"demo",usage:"code",description:"模拟code结果显示"},{key:"table",group:"demo",usage:"table",description:"模拟表格结果显示"},{key:"html",group:"demo",usage:"html",description:"模拟自定义html结果显示"},{key:"loop",group:"demo",usage:"loop",description:"模拟批量结果显示"},{key:"context",group:"demo",usage:"context <ctx>",description:"修改上下文",example:[{cmd:"context /vue/terminal/dev",des:"修改上下文为'/vue/terminal/dev'"}]},{key:"fullscreen",group:"demo",usage:"fullscreen",description:"切换全屏模式"},{key:"drag",group:"demo",usage:"drag <x> <y>",description:"模拟拖拽窗口，x为左边界，y为右边界，单位px",example:[{cmd:"drag 20 100",des:"拖拽位置到（20,100）"}]},{key:"info",group:"demo",usage:"info",description:"获取当前窗口信息"},{key:"random",group:"demo",usage:"random",description:"随机生成标签"},{key:"flash",group:"demo",usage:"flash",description:"即时回显，模拟执行下载命令"},{key:"ask",group:"demo",usage:"ask",description:"用户输入，模拟执行登录"},{key:"edit",group:"demo",usage:"edit",description:"打开文本编辑器"}],dragConf:{width:700,height:500},initLog:null,guide:{step:0,command:null}}},props:{initCmd:{type:String,default:null}},created(){this.initLog=[{content:"Terminal initializing..."},{content:"Welcome to vue-web-terminal! If you are using for the first time, you can use the <span class='t-cmd-key'>help</span> command to learn."},{type:"html",content:`\n                <div class='demo-init-box'>\n                    <p>Hello vue-web-terminal! ✋</p>\n                    <p>Demo version: vue2(<span class="t-cmd-key">${this.version.vue2}</span>), vue3(<span class="t-cmd-key">${this.version.vue3}</span>)</p>\n                    <p>⭐️Github: <a class='t-a' target='_blank' href='https://github.com/tzfun/vue-web-terminal'>https://github.com/tzfun/vue-web-terminal</a></p>\n                </div>\n                `}]},mounted(){let e=document.body.clientWidth;e<960?this.dragConf=null:e>=960&&e<1264?(this.dragConf.width="80%",this.dragConf.height="80%"):e>=1264&&(this.dragConf.width="60%",this.dragConf.height="65%")},methods:{onExecCmd(e,t,s,n){if(this.guide.step>0&&this.guide.command&&"exit"!==e&&e!==this.guide.command)n(`请按照引导输入命令 <span class="t-cmd-key">${this.guide.command}</span> 或输入 <span class="t-cmd-key">exit</span> 退出引导`);else{if("fail"===e)n("Something wrong!!!");else if("json"===e)s({type:"json",class:"success",content:{k1:"welcome to vue-web-terminal",k2:120,k3:["h","e","l","l","o"],k4:{k41:2,k42:"200"}}});else if("code"===e)s({type:"code",content:"import Vue from 'vue'\nimport App from './App.vue'\nimport Terminal from 'vue-web-terminal'\nimport Highlight from './Highlight.js'\n\nVue.use(Highlight)\nVue.use(Terminal, { highlight: true })\nVue.config.productionTip = false\n\nnew Vue({\n    render: h => h(App),\n}).$mount('#app')\n"});else if("table"===e)s({type:"table",content:{head:["title1","title2","title3","title4"],rows:[["name1","hello world","this is a test1","xxxxxxxx"],["name2","hello world","this is a test2 test2","xxxxxxxx"]]}});else if("context"===e)c.a.$api.updateContext(this.name,t.split(" ")[1]),s({type:"normal",class:"success",content:"ok"});else if("html"===e)s({type:"html",content:`\n                            <div class='demo-init-box'>\n                                <p>Hello vue-web-terminal! ✋</p>\n                                <p>Demo version: vue2(<span class="t-cmd-key">${this.version.vue2}</span>), vue3(<span class="t-cmd-key">${this.version.vue3}</span>)</p>\n                                <p>⭐️Github: <a class='t-a' target='_blank' href='https://github.com/tzfun/vue-web-terminal'>https://github.com/tzfun/vue-web-terminal</a></p>\n                            </div>\n                            `});else if("ls"===e)s({type:"html",content:'\n                              <ul class="custom-content">\n                                <li class="t-dir">目录1</li>\n                                <li class="t-dir">目录2</li>\n                                <li class="t-dir">目录3</li>\n                                <li class="t-file">文件1</li>\n                                <li class="t-file">文件2</li>\n                                <li class="t-file">文件3</li>\n                              </ul>\n                              <br>\n                              '});else if("fullscreen"===e)c.a.$api.fullscreen(this.name),s({type:"normal",class:"success",content:"ok"});else if("loop"===e){for(let e=0;e<10;e++)c.a.$api.pushMessage(this.name,{type:"normal",content:"loop => "+e});s()}else if("drag"===e){let e=t.split(" ");c.a.$api.dragging(this.name,{x:parseInt(e[1]),y:parseInt(e[2])}),s()}else if("info"===e){let e=c.a.$api.elementInfo(this.name);s({type:"json",content:JSON.stringify(e)})}else if("random"===e){let e=["success","error","system","info","warning"],t=e[Math.floor(Math.random()*e.length)];s({type:"normal",class:t,tag:"random: "+t,content:"random number: "+Math.floor(10*Math.random())})}else{if("ask"===e){let i=t.split(" ");if(i.length>=2&&"guide"===i[1])this.askGuide(e,t,s,n);else{let e=new c.a.$Ask;s(e),e.ask({question:"请输入用户名：",autoReview:!0,callback:()=>{e.ask({question:"请输入密码：",autoReview:!0,isPassword:!0,callback:()=>{e.finish(),this.nextGuide()}})}})}return}if("flash"===e)return void this.showFlash(s);if("exit"===e)0!==this.guide.step?(this.guide.step=0,this.guide.command=null,s({content:"你已退出引导"})):s();else{if("edit"===e)return void c.a.$api.textEditorOpen(this.name,{content:"Please edit this text file.",onClose:e=>{s([{class:"success",content:"Edit saved successfully!"},{type:"code",content:e}]),setTimeout(()=>{this.nextGuide()},100)}});n("Unknown command")}}this.nextGuide(s)}},onClick(e){"close"===e?this.$emit("onClose"):c.a.$api.pushMessage(this.name,{tag:"success",class:"system",content:`User clicked <span class="t-cmd-key">${e}</span>`})},onKeydown(){},inputFilter(e,t){return t},initBefore(){},initComplete(){this.initCmd?c.a.$api.execute(this.name,this.initCmd):c.a.$api.execute(this.name,"ask guide")},askGuide(e,t,s){let n=new c.a.$Ask;s(n),n.ask({question:"为了帮助你对插件功能有个大概的了解，你是否需要引导？(y/n)：",autoReview:!0,callback:e=>{"y"===e&&(this.guide.step=1,this.nextGuide()),n.finish()}}),c.a.$api.focus()},nextGuide(){if(0===this.guide.step)return;let e=null;if(1===this.guide.step)this.guide.command="random",e=`👉 [${this.guide.step}] 首先带你认识一下支持的消息格式，默认的消息是普通文本格式，请输入<span class="t-cmd-key">${this.guide.command}</span>随机一条文本消息`;else if(2===this.guide.step)this.guide.command="json",e=`👉 [${this.guide.step}] 接下来是json格式数据，请输入<span class="t-cmd-key">${this.guide.command}</span>`;else if(3===this.guide.step)this.guide.command="code",e=`👉 [${this.guide.step}] 接下来是code格式数据，拓展可支持 highlight 和 codemirror 高亮显示，请输入<span class="t-cmd-key">${this.guide.command}</span>`;else if(4===this.guide.step)this.guide.command="table",e=`👉 [${this.guide.step}] 接下来是表格数据，请输入<span class="t-cmd-key">${this.guide.command}</span>`;else if(5===this.guide.step)this.guide.command="loop",e=`👉 [${this.guide.step}] Terminal支持批量插入多条消息，请输入<span class="t-cmd-key">${this.guide.command}</span>`;else if(6===this.guide.step)this.guide.command="html",e=`👉 [${this.guide.step}] 接下来是自定义html消息，你可以在此基础上构建任意你需要的消息样式，请输入<span class="t-cmd-key">${this.guide.command}</span>`;else if(7===this.guide.step)this.guide.command="flash",e=`👉 [${this.guide.step}] 如果你想展示执行过程动画可以使用插件实时回显功能，你可以把它当做Falsh使用，请输入<span class="t-cmd-key">${this.guide.command}</span>`;else if(8===this.guide.step)this.guide.command="edit",e=`👉 [${this.guide.step}] 如果你想编辑文本文件，插件也提供了简单的文本编辑器，请输入<span class="t-cmd-key">${this.guide.command}</span>`;else{if(9!==this.guide.step)return 10===this.guide.step?(this.guide.command=null,e="🎉 恭喜你完成了所有的引导，上面已为你展示本Demo支持的所以命令，另外插件还支持拖拽、全屏等功能也可在Demo中体验。\n                        <br>🤗 更多关于插件的内容请前往 <a class='t-a' target='_blank' href=\"https://github.com/tzfun/vue-web-terminal\">https://github.com/tzfun/vue-web-terminal</a> 查看，如果你觉得做的不错给个⭐️支持一下吧~",c.a.$api.execute(this.name,"help"),c.a.$api.pushMessage(this.name,{content:e}),void(this.guide.step=0)):void 0;this.guide.command="ask",e=`👉 [${this.guide.step}] 如果你想获取到用户输入可以使用插件Ask功能，请输入<span class="t-cmd-key">${this.guide.command}</span>`}this.guide.step++,c.a.$api.pushMessage(this.name,{content:e})},async showFlash(e){c.a.$api.pushMessage(this.name,{content:"🔍︎ Comparing versions, the relevant dependency files will be downloaded soon..."}),c.a.$api.pushMessage(this.name,{content:"🚚 Start downloading dependent files"});let t=new c.a.$Flash;e(t);let s=c.a.$api.elementInfo(this.name),n=(new Date).getTime();await this.mockLoading(t,"vue",s),await this.mockLoading(t,"vue-web-terminal",s),await this.mockLoading(t,"core.js",s);let i=(((new Date).getTime()-n)/1e3).toFixed(2);c.a.$api.pushMessage(this.name,{content:`🎉 All dependencies has downloaded <span style="color:green;">successful</span>, done in ${i} s`}),this.nextGuide(),t.finish()},mockLoading(e,t,s){let n=15+(6+t.length)*s.charWidth.en,i=(s.clientWidth-n)/s.charWidth.en,a='<span class="loading-flash" style="transform: rotate(',o=`deg)"></span><span style="color: aqua">${t}</span>[`;return new Promise(s=>{let n=(new Date).getTime(),l=0,r=setInterval(()=>{++l;let u=Math.floor(100*l/i);u<10?u="  "+u:u<100&&(u=" "+u);let d=a+l%8*90+o+"#".repeat(l)+"-".repeat(i-l)+"]"+u+"%";if(e.flush(d),l>=i){clearInterval(r);let e=(((new Date).getTime()-n)/1e3).toFixed(2);c.a.$api.pushMessage(this.name,{content:`✔︎ <span style="color: aqua">${t}</span> download successful! use <span>${e}</span> s`}),s()}},20*Math.random())})}}},d=u,h=d,m=(s("42c4"),s("2877")),p=Object(m["a"])(h,o,l,!1,null,null,null),g=p.exports,f=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("terminal",{staticStyle:{position:"fixed"},attrs:{name:e.name,title:e.title,"init-log":e.initLog,context:e.context,dragConf:e.dragConf,commandStore:e.cmdStore,"show-header":""},on:{execCmd:e.onExecCmd,onClick:e.onClick,onKeydown:e.onKeydown,"update:context":function(t){e.context=t},initComplete:e.initComplete}})},w=[],y=s("bc3a");const v="http://192.168.0.148:8080";function b(e){return new Promise((t,s)=>{Object(y["a"])({url:v+"/ssh/account_login",method:"get",responseType:"json",timeout:1e4,params:e}).then(e=>{0===e.data.code?t(e.data.data):s({message:e.data.msg})}).catch(e=>{s(e)})})}function k(){let e=location.search.replace("?",""),t={};if(e.length>0){let s=e.split("&");for(let e of s){let s=e.split("=");t[s[0]]=decodeURIComponent(s[1])}}return t}function x(e){return null==e||0===e.length||0===e.trim().length}var C={name:"SshTerminal",components:{Terminal:c.a},data(){return{name:"ssh-terminal",title:"SSH Client",context:"/vue-web-terminal",initLog:[{class:"warning",content:"为了保障你的主机安全，请勿在此填写你的非测试服务器信息，本Demo仅供测试体验使用，当然本站不会主动记录这些信息，如若发生任何信息泄露后果自负！"},{class:"system",content:"若想体验插件实现效果，建议使用非生产环境的测试机，并且体验后立即修改登录密码，或者前往Github或Gitee下载本Demo的Web&Server源码，在本地编译运行后体验。"}],cmdStore:[{key:"ssh",group:"ssh",usage:"ssh [username@host:port]",description:"ssh client"}],dragConf:{width:700,height:500},ssh:{host:"",port:22,username:"",password:""},asker:null,keydownListener:null}},mounted(){this.keydownListener=e=>{e.ctrlKey&&"c"===e.key.toLowerCase()&&null!=this.asker&&(c.a.$api.pushMessage(this.name,{content:"^C"}),this.asker.finish(),this.asker=null,e.preventDefault())},window.addEventListener("keydown",this.keydownListener);let e=document.body.clientWidth;e<960?this.dragConf=null:e>=960&&e<1264?(this.dragConf.width="80%",this.dragConf.height="80%"):e>=1264&&(this.dragConf.width="60%",this.dragConf.height="65%")},destroyed(){window.removeEventListener("keydown",this.keydownListener)},methods:{onExecCmd:function(e,t,s,n){if("ssh"===e){Object.assign(this.$data.ssh,this.$options.data().ssh);let e=t.split(" "),n=new c.a.$Ask;s(n),this.asker=n;let i={question:"Input ssh login password: ",autoReview:!0,isPassword:!0,callback:e=>{this.ssh.password=e,b(this.ssh).then(e=>{c.a.$api.pushMessage(this.name,{content:e})}).catch(e=>{c.a.$api.pushMessage(this.name,{class:"error",content:"ssh connect failed: "+e.message})}).finally(()=>{this.asker=null,n.finish()})}};if(x(e[1])){let e={question:"Input ssh login username: ",autoReview:!0,callback:t=>{x(t)?(c.a.$api.pushMessage(this.name,{content:'<span style="color:red;">Username can not be empty.</span>'}),n.ask(e)):(this.ssh.username=t,n.ask(i))}},t={question:"Input ssh port(default is 22): ",autoReview:!0,callback:t=>{x(t)||(this.ssh.port=t),n.ask(e)}},s={question:"Input ssh login host(example 127.0.0.1): ",autoReview:!0,callback:e=>{x(e)?(c.a.$api.pushMessage(this.name,{content:'<span style="color:red;">Host can not be empty.</span>'}),n.ask(s)):(this.ssh.host=e,n.ask(t))}};n.ask(s)}else{let t=e[1].split("@");this.ssh.username=t[0],t=t[1].split(":"),this.ssh.host=t[0],x(t[1])||(this.ssh.port=t[1]),n.ask(i)}}else n("Unknown command")},onClick(e){"close"===e&&this.$emit("onClose")},onKeydown(){},initComplete(){c.a.$api.execute(this.name,"ssh")}}},$=C,_=$,S=(s("a4b7"),Object(m["a"])(_,f,w,!1,null,"2fe78186",null)),L=S.exports,j={name:"App",components:{LocalTerminal:g,SshTerminal:L},data(){return{showLocal:!1,showSsh:!1,localInitCmd:null}},created(){let e=k();e.cmd&&e.cmd.trim().length>0&&(this.localInitCmd=e.cmd,this.showLocal=!0)},mounted(){},methods:{}},M=j,T=M,O=(s("7f30"),s("ac57"),Object(m["a"])(T,i,a,!1,null,"f74e768a",null)),I=O.exports,G=s("8f94"),P=s.n(G);s("a7be"),s("7ba3"),s("4ba6"),s("10b2");n["default"].use(P.a),n["default"].use(c.a,{codemirror:{tabSize:4,mode:"text/x-java",theme:"darcula",lineNumbers:!0,line:!0,smartIndent:!0}}),n["default"].config.productionTip=!1,new n["default"]({render:e=>e(I)}).$mount("#app")},"7f30":function(e,t,s){"use strict";s("1af7")},"87e6":function(e,t,s){},a4b7:function(e,t,s){"use strict";s("87e6")},a7bc:function(e,t,s){e.exports=s.p+"img/logo.d3789b1c.svg"},ac57:function(e,t,s){"use strict";s("1129")},cc6d:function(e,t,s){}});