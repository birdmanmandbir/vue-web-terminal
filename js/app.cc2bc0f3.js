(function(e){function t(t){for(var s,o,l=t[0],r=t[1],u=t[2],c=0,p=[];c<l.length;c++)o=l[c],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,l=1;l<n.length;l++){var r=n[l];0!==i[r]&&(s=!1)}s&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},i={app:0},a=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=r;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2bda":function(e,t,n){},3033:function(e,t,n){"use strict";n("d173")},"56d7":function(e,t,n){"use strict";n.r(t);var s=n("2b0e"),i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{attrs:{id:"app"}},[t("button",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"btn",on:{click:function(t){e.show=!0}}},[e._v("打开Terminal")]),e.show?t("terminal",{staticStyle:{position:"fixed"},attrs:{name:e.name,title:e.title,"init-log":e.initLog,inputFilter:e.inputFilter,context:e.context,commandStore:e.cmdStore,warnLogCountLimit:200,showLogTime:!0,dragConf:e.dragConf,"show-header":""},on:{execCmd:e.onExecCmd,onClick:e.onClick,onKeydown:e.onKeydown,"update:context":function(t){e.context=t},initBefore:e.initBefore,initComplete:e.initComplete}}):e._e()],1)},a=[],o=n("a534"),l=n.n(o),r={name:"App",components:{Terminal:l.a},data(){return{version:{vue2:"2.1.0",vue3:"3.1.0"},show:!0,name:"my-terminal",title:"👌vue-web-terminal",context:"/vue-web-terminal/demo",cmdStore:[{key:"fail",group:"demo",usage:"fail",description:"模拟错误结果返回"},{key:"json",group:"demo",usage:"json",description:"模拟json结果显示"},{key:"code",group:"demo",usage:"code",description:"模拟code结果显示"},{key:"table",group:"demo",usage:"table",description:"模拟表格结果显示"},{key:"html",group:"demo",usage:"html",description:"模拟自定义html结果显示"},{key:"loop",group:"demo",usage:"loop",description:"模拟批量结果显示"},{key:"context",group:"demo",usage:"context <ctx>",description:"修改上下文",example:[{cmd:"context /vue/terminal/dev",des:"修改上下文为'/vue/terminal/dev'"}]},{key:"fullscreen",group:"demo",usage:"fullscreen",description:"切换全屏模式"},{key:"drag",group:"demo",usage:"drag <x> <y>",description:"模拟拖拽窗口，x为左边界，y为右边界，单位px",example:[{cmd:"drag 20 100",des:"拖拽位置到（20,100）"}]},{key:"info",group:"demo",usage:"info",description:"获取当前窗口信息"},{key:"random",group:"demo",usage:"random",description:"随机生成标签"},{key:"flash",group:"demo",usage:"flash",description:"即时回显，模拟执行下载命令"},{key:"ask",group:"demo",usage:"ask",description:"用户输入，模拟执行登录"}],dragConf:{width:700,height:500},initLog:null,guide:{step:0,command:null}}},created(){this.initLog=[{content:"Terminal initializing..."},{content:"Welcome to vue-web-terminal! If you are using for the first time, you can use the <span class='t-cmd-key'>help</span> command to learn."},{type:"html",content:`\n                <div class='demo-init-box'>\n                    <p>Hello vue-web-terminal! ✋</p>\n                    <p>Demo version: vue2(<span class="t-cmd-key">${this.version.vue2}</span>), vue3(<span class="t-cmd-key">${this.version.vue3}</span>)</p>\n                    <p>⭐️Github: <a class='t-a' target='_blank' href='https://github.com/tzfun/vue-web-terminal'>https://github.com/tzfun/vue-web-terminal</a></p>\n                </div>\n                `}]},mounted(){let e=document.body.clientWidth;e<960?this.dragConf=null:e>=960&&e<1264?(this.dragConf.width="80%",this.dragConf.height="80%"):e>=1264&&(this.dragConf.width="60%",this.dragConf.height="65%")},methods:{onExecCmd(e,t,n,s){if(this.guide.step>0&&this.guide.command&&"exit"!==e&&e!==this.guide.command)s(`请按照引导输入命令 <span class="t-cmd-key">${this.guide.command}</span> 或输入 <span class="t-cmd-key">exit</span> 退出引导`);else{if("fail"===e)s("Something wrong!!!");else if("json"===e)n({type:"json",class:"success",content:{k1:"welcome to vue-web-terminal",k2:120,k3:["h","e","l","l","o"],k4:{k41:2,k42:"200"}}});else if("code"===e)n({type:"code",content:"import Vue from 'vue'\nimport App from './App.vue'\nimport Terminal from 'vue-web-terminal'\nimport Highlight from './Highlight.js'\n\nVue.use(Highlight)\nVue.use(Terminal, { highlight: true })\nVue.config.productionTip = false\n\nnew Vue({\n    render: h => h(App),\n}).$mount('#app')\n"});else if("table"===e)n({type:"table",content:{head:["title1","title2","title3","title4"],rows:[["name1","hello world","this is a test1","xxxxxxxx"],["name2","hello world","this is a test2 test2","xxxxxxxx"]]}});else if("context"===e)l.a.$api.updateContext(this.name,t.split(" ")[1]),n({type:"normal",class:"success",content:"ok"});else if("html"===e)n({type:"html",content:`\n                            <div class='demo-init-box'>\n                                <p>Hello vue-web-terminal! ✋</p>\n                                <p>Demo version: vue2(<span class="t-cmd-key">${this.version.vue2}</span>), vue3(<span class="t-cmd-key">${this.version.vue3}</span>)</p>\n                                <p>⭐️Github: <a class='t-a' target='_blank' href='https://github.com/tzfun/vue-web-terminal'>https://github.com/tzfun/vue-web-terminal</a></p>\n                            </div>\n                            `});else if("ls"===e)n({type:"html",content:'\n                              <ul class="custom-content">\n                                <li class="t-dir">目录1</li>\n                                <li class="t-dir">目录2</li>\n                                <li class="t-dir">目录3</li>\n                                <li class="t-file">文件1</li>\n                                <li class="t-file">文件2</li>\n                                <li class="t-file">文件3</li>\n                              </ul>\n                              <br>\n                              '});else if("fullscreen"===e)l.a.$api.fullscreen(this.name),n({type:"normal",class:"success",content:"ok"});else if("loop"===e){for(let e=0;e<10;e++)l.a.$api.pushMessage(this.name,{type:"normal",content:"loop => "+e});n()}else if("drag"===e){let e=t.split(" ");l.a.$api.dragging(this.name,{x:parseInt(e[1]),y:parseInt(e[2])}),n()}else if("info"===e){let e=l.a.$api.elementInfo(this.name);n({type:"json",content:JSON.stringify(e)})}else if("random"===e){let e=["success","error","system","info","warning"],t=e[Math.floor(Math.random()*e.length)];n({type:"normal",class:t,tag:"random: "+t,content:"random number: "+Math.floor(10*Math.random())})}else{if("ask"===e){let i=t.split(" ");if(i.length>=2&&"guide"===i[1])this.askGuide(e,t,n,s);else{let e=new l.a.$Ask;n(e),e.ask({question:"请输入用户名：",autoReview:!0,callback:()=>{e.ask({question:"请输入密码：",autoReview:!0,isPassword:!0,callback:()=>{e.finish(),this.nextGuide()}})}})}return}if("flash"===e)return void this.showFlash(n);"exit"===e?0!==this.guide.step?(this.guide.step=0,this.guide.command=null,n({content:"你已退出引导"})):n():s("Unknown command")}this.nextGuide(n)}},onClick(e){"close"===e?this.show=!1:l.a.$api.pushMessage(this.name,{tag:"success",class:"system",content:`User clicked <span class="t-cmd-key">${e}</span>`})},onKeydown(){},inputFilter(e,t){return t},initBefore(){},initComplete(){l.a.$api.execute(this.name,"ask guide")},askGuide(e,t,n){let s=new l.a.$Ask;n(s),s.ask({question:"为了帮助你对插件功能有个大概的了解，你是否需要引导？(Y/n)：",autoReview:!0,callback:e=>{"Y"===e&&(this.guide.step=1,this.nextGuide()),s.finish()}}),l.a.$api.focus()},nextGuide(){if(0===this.guide.step)return;let e=null;if(1===this.guide.step)this.guide.command="random",e=`👉 [${this.guide.step}] 首先带你认识一下支持的消息格式，默认的消息是普通文本格式，请输入<span class="t-cmd-key">${this.guide.command}</span>随机一条文本消息`;else if(2===this.guide.step)this.guide.command="json",e=`👉 [${this.guide.step}] 接下来是json格式数据，请输入<span class="t-cmd-key">${this.guide.command}</span>`;else if(3===this.guide.step)this.guide.command="code",e=`👉 [${this.guide.step}] 接下来是code格式数据，拓展可支持 highlight 和 codemirror 高亮显示，请输入<span class="t-cmd-key">${this.guide.command}</span>`;else if(4===this.guide.step)this.guide.command="table",e=`👉 [${this.guide.step}] 接下来是表格数据，请输入<span class="t-cmd-key">${this.guide.command}</span>`;else if(5===this.guide.step)this.guide.command="loop",e=`👉 [${this.guide.step}] Terminal支持批量插入多条消息，请输入<span class="t-cmd-key">${this.guide.command}</span>`;else if(6===this.guide.step)this.guide.command="html",e=`👉 [${this.guide.step}] 接下来是自定义html消息，你可以在此基础上构建任意你需要的消息样式，请输入<span class="t-cmd-key">${this.guide.command}</span>`;else if(7===this.guide.step)this.guide.command="flash",e=`👉 [${this.guide.step}] 如果你想展示执行过程动画可以使用插件实时回显功能，你可以把它当做Falsh使用，请输入<span class="t-cmd-key">${this.guide.command}</span>`;else{if(8!==this.guide.step)return 9===this.guide.step?(this.guide.command=null,e="🎉 恭喜你完成了所有的引导，上面已为你展示本Demo支持的所以命令，另外插件还支持拖拽、全屏等功能也可在Demo中体验。\n                        <br>🤗 更多关于插件的内容请前往 <a class='t-a' target='_blank' href=\"https://github.com/tzfun/vue-web-terminal\">https://github.com/tzfun/vue-web-terminal</a> 查看，如果你觉得做的不错给个⭐️支持一下吧~",l.a.$api.execute(this.name,"help"),l.a.$api.pushMessage(this.name,{content:e}),void(this.guide.step=0)):void 0;this.guide.command="ask",e=`👉 [${this.guide.step}] 如果你想获取到用户输入可以使用插件Ask功能，请输入<span class="t-cmd-key">${this.guide.command}</span>`}this.guide.step++,l.a.$api.pushMessage(this.name,{content:e})},async showFlash(e){l.a.$api.pushMessage(this.name,{content:"🔍︎ Comparing versions, the relevant dependency files will be downloaded soon..."}),l.a.$api.pushMessage(this.name,{content:"🚚 Start downloading dependent files"});let t=new l.a.$Flash;e(t);let n=l.a.$api.elementInfo(this.name),s=(new Date).getTime();await this.mockLoading(t,"vue",n),await this.mockLoading(t,"vue-web-terminal",n),await this.mockLoading(t,"core.js",n);let i=(((new Date).getTime()-s)/1e3).toFixed(2);l.a.$api.pushMessage(this.name,{content:`🎉 All dependencies has downloaded <span style="color:green;">successful</span>, done in ${i} s`}),this.nextGuide(),t.finish()},mockLoading(e,t,n){let s=15+(6+t.length)*n.charWidth.en,i=(n.clientWidth-s)/n.charWidth.en,a='<span class="loading-flash" style="transform: rotate(',o=`deg)"></span><span style="color: aqua">${t}</span>[`;return new Promise(n=>{let s=(new Date).getTime(),r=0,u=setInterval(()=>{++r;let d=Math.floor(100*r/i);d<10?d="  "+d:d<100&&(d=" "+d);let c=a+r%8*90+o+"#".repeat(r)+"-".repeat(i-r)+"]"+d+"%";if(e.flush(c),r>=i){clearInterval(u);let e=(((new Date).getTime()-s)/1e3).toFixed(2);l.a.$api.pushMessage(this.name,{content:`✔︎ <span style="color: aqua">${t}</span> download successful! use <span>${e}</span> s`}),n()}},20*Math.random())})}}},u=r,d=u,c=(n("3033"),n("ab8e"),n("2877")),p=Object(c["a"])(d,i,a,!1,null,"08055f3a",null),m=p.exports,h=n("8f94"),g=n.n(h);n("a7be"),n("7ba3"),n("4ba6"),n("10b2");s["default"].use(g.a),s["default"].use(l.a,{codemirror:{tabSize:4,mode:"text/x-java",theme:"darcula",lineNumbers:!0,line:!0,smartIndent:!0}}),s["default"].config.productionTip=!1,new s["default"]({render:e=>e(m)}).$mount("#app")},ab8e:function(e,t,n){"use strict";n("2bda")},d173:function(e,t,n){}});